===========================================
FTP'YE ATILACAK DEÄÄ°ÅEN DOSYALAR
===========================================

Tarih: 2026-02-08

HABER SÄ°STEMÄ° - published_at TARÄ°H BAZLI SIRALAMA Ã–ZELLÄ°ÄÄ°
===========================================================

DeÄŸiÅŸiklik Ã–zeti:
- Haber ekleme/dÃ¼zenleme formlarÄ±na "YayÄ±n Tarihi" alanÄ± eklendi
- Haberler artÄ±k published_at tarihine gÃ¶re sÄ±ralanÄ±yor (yoksa created_at kullanÄ±lÄ±yor)
- GeÃ§miÅŸe dair haber ekleme Ã¶zelliÄŸi eklendi
- Haber gÃ¼ncelleme sonrasÄ± admin/news sayfasÄ±na yÃ¶nlendirme eklendi
- Haber detay sayfasÄ±nda gÃ¼ncellenme tarihi gÃ¶sterimi eklendi

DEÄÄ°ÅEN DOSYALAR:
==================

1. app/Models/News.php
   - published_at fillable'a eklendi
   - published_at datetime cast eklendi
   - scopePublic() metodunda sÄ±ralama gÃ¼ncellendi (COALESCE kullanÄ±lÄ±yor)

2. app/Http/Controllers/Admin/NewsController.php
   - store() metoduna published_at validation ve iÅŸleme eklendi
   - update() metoduna published_at validation ve iÅŸleme eklendi
   - update() metodunda gÃ¼ncelleme kontrolÃ¼ eklendi, gÃ¼ncelleme gerÃ§ekleÅŸirse admin/news sayfasÄ±na yÃ¶nlendiriyor
   - index() metodunda sÄ±ralama gÃ¼ncellendi (COALESCE kullanÄ±lÄ±yor)

3. app/Http/Controllers/PublicController.php
   - welcome() metodunda ana sayfa haber sÄ±ralamasÄ± gÃ¼ncellendi (en yeni tarihli Ã¶nce, en eski tarihli en sonda - DESC)
   - news() metodunda sÄ±ralama gÃ¼ncellendi (COALESCE kullanÄ±lÄ±yor)
   - search() metodunda newsResults sÄ±ralamasÄ± gÃ¼ncellendi (COALESCE kullanÄ±lÄ±yor)

4. resources/views/admin/news/create.blade.php
   - YayÄ±n Tarihi (published_at) input alanÄ± eklendi

5. resources/views/admin/news/edit.blade.php
   - YayÄ±n Tarihi (published_at) input alanÄ± eklendi

6. resources/views/news/detail.blade.php
   - YayÄ±n tarihi gÃ¶sterimi published_at kullanÄ±yor (yoksa created_at)
   - Tarih formatlarÄ± TÃ¼rkÃ§e ay isimleriyle gÃ¶steriliyor (formatTr kullanÄ±lÄ±yor)

7. lang/tr/common.php
   - 'updated_at' => 'GÃ¼ncellendi' Ã§evirisi eklendi

8. resources/views/welcome.blade.php
   - Ana sayfa slider ve haber alanlarÄ±nda sÄ±ralama gÃ¼ncellendi (en yeni tarihli Ã¶nce, en eski tarihli en sonda - DESC)

9. resources/views/news/detail.blade.php
   - PaylaÅŸÄ±m butonlarÄ± basitleÅŸtirildi: Sadece tek bir "PaylaÅŸ" butonu
   - TÃ¼m platform butonlarÄ± (Facebook, Instagram, WhatsApp, X) kaldÄ±rÄ±ldÄ±
   - "Linki Kopyala" butonu kaldÄ±rÄ±ldÄ±
   - Native Share API kullanÄ±lÄ±yor (kullanÄ±cÄ± istediÄŸi uygulamayÄ± seÃ§ebilir)
   - TÃ¼rkÃ§e karakter ve kesme iÅŸareti sorunu dÃ¼zeltildi (JSON_UNESCAPED_UNICODE flag'i eklendi)
   - HTML entity decode iÅŸlemi eklendi (PHP tarafÄ±nda)
   - Daha temiz ve kullanÄ±cÄ± dostu arayÃ¼z

10. resources/views/announcements/detail.blade.php
   - PaylaÅŸÄ±m butonlarÄ± basitleÅŸtirildi: Sadece tek bir "PaylaÅŸ" butonu
   - TÃ¼m platform butonlarÄ± (Facebook, Instagram, WhatsApp) kaldÄ±rÄ±ldÄ±
   - Native Share API kullanÄ±lÄ±yor (kullanÄ±cÄ± istediÄŸi uygulamayÄ± seÃ§ebilir)
   - TÃ¼rkÃ§e karakter ve kesme iÅŸareti sorunu dÃ¼zeltildi (JSON_UNESCAPED_UNICODE flag'i eklendi)
   - HTML entity decode iÅŸlemi eklendi (PHP tarafÄ±nda)
   - Eski paylaÅŸÄ±m fonksiyonlarÄ± temizlendi

11. resources/views/welcome.blade.php
   - Ana sayfa etkinlik kartlarÄ±ndaki paylaÅŸÄ±m butonlarÄ± basitleÅŸtirildi: Sadece tek bir "PaylaÅŸ" butonu
   - TÃ¼m platform butonlarÄ± (Facebook, Instagram, WhatsApp) kaldÄ±rÄ±ldÄ±
   - Native Share API kullanÄ±lÄ±yor (kullanÄ±cÄ± istediÄŸi uygulamayÄ± seÃ§ebilir)
   - TÃ¼rkÃ§e karakter desteÄŸi eklendi (HTML entity decode)
   - Eski paylaÅŸÄ±m fonksiyonlarÄ± (shareEventToWhatsApp, shareEventToFacebook, shareEventToInstagram) kaldÄ±rÄ±ldÄ±
   - Yeni shareEvent() fonksiyonu eklendi
   - Etkinlik kartÄ± resim modal'Ä± boyutu dÃ¼zeltildi (max-w-4xl, max-h-[90vh] - daha uygun boyut)

12. resources/views/partials/main-menu.blade.php
   - Mobil menÃ¼ hamburger ikonu tema renklerine gÃ¶re gÃ¼ncellendi
   - Sabit teal renkleri kaldÄ±rÄ±ldÄ±, tema deÄŸiÅŸkenleri kullanÄ±lÄ±yor (--theme-primary-color, --theme-hover-color, --theme-link-color)
   - Hover ve focus durumlarÄ± tema renklerine gÃ¶re Ã§alÄ±ÅŸÄ±yor
   - Mobil menÃ¼de dropdown menÃ¼ Ã¶ÄŸelerine tÄ±klandÄ±ÄŸÄ±nda menÃ¼ kapanma sorunu dÃ¼zeltildi
   - Dropdown ana menÃ¼ linkine tÄ±klandÄ±ÄŸÄ±nda artÄ±k menÃ¼ kapanmÄ±yor, sadece alt menÃ¼ler aÃ§Ä±lÄ±yor/kapanÄ±yor
   - Alt menÃ¼ linklerine tÄ±klandÄ±ÄŸÄ±nda menÃ¼ normal ÅŸekilde kapanÄ±yor
   - Ana menÃ¼ linklerine data-has-children attribute'u eklendi

13. resources/views/admin/members/create.blade.php
   - "Ek Bilgiler" bÃ¶lÃ¼mÃ¼nÃ¼n altÄ±na DSGVO veri iÅŸleme onayÄ± checkbox'Ä± eklendi
   - Gizlilik politikasÄ± linki eklendi (/sayfa/datenschutz)
   - Zorunlu alan olarak iÅŸaretlendi (*)
   - GÃ¼venlik ikonu (ğŸ”’) ve aÃ§Ä±klayÄ±cÄ± metin eklendi

14. app/Http/Controllers/Admin/MemberController.php
   - store() metoduna privacy_consent validation'Ä± eklendi (required|accepted)
   - privacy_consent_date otomatik olarak ÅŸu anki tarih/saat ile set ediliyor
   - Admin panelinden yeni Ã¼ye eklerken DSGVO uyumluluÄŸu saÄŸlanÄ±yor

 15. resources/views/pdf/member-application-admin.blade.php
    - "ÃœYELÄ°ÄÄ°NÄ°Z YÃ–NETÄ°M KURULUMUZUN KARARI Ä°LE ONAYLANMIÅTIR" kÄ±smÄ±nÄ±n altÄ±na veri onayÄ± metni eklendi
    - TÃ¼rkÃ§e ve Almanca olarak veri iÅŸleme onayÄ± bilgisi gÃ¶steriliyor
    - Onay tarihi gÃ¶steriliyor (eÄŸer privacy_consent ve privacy_consent_date varsa)
    - Mavi arka planlÄ±, kenarlÄ±klÄ± bir kutu iÃ§inde gÃ¶steriliyor

 16. TÃ¼m Ãœyelik FormlarÄ±nda Metinler Sadece Almanca YapÄ±ldÄ±:
    - resources/views/admin/members/create.blade.php: TÃ¼m Ã§ift dilli etiketler (TR/DE) sadece Almanca yapÄ±ldÄ±
      * AdÄ± / Vorname â†’ Vorname
      * SoyadÄ± / Nachname â†’ Nachname
      * Cinsiyet / Geschlecht â†’ Geschlecht
      * DoÄŸum Tarihi / Geburtsdatum â†’ Geburtsdatum
      * DoÄŸum Yeri / Geburtsort â†’ Geburtsort
      * UyruÄŸu / StaatsangehÃ¶rigkeit â†’ StaatsangehÃ¶rigkeit
      * MesleÄŸi / Beruf â†’ Beruf
      * Adres / Anschrift â†’ Anschrift
      * SeÃ§iniz / Bitte wÃ¤hlen â†’ Bitte wÃ¤hlen
      * Erkek / MÃ¤nnlich â†’ MÃ¤nnlich
      * KadÄ±n / Weiblich â†’ Weiblich
    - resources/views/admin/members/edit.blade.php: Cinsiyet seÃ§enekleri sadece Almanca yapÄ±ldÄ±
    - resources/views/member/application.blade.php: Privacy consent metni sadece Almanca yapÄ±ldÄ±
    - resources/views/pdf/member-application-admin.blade.php: PDF'teki veri onayÄ± metni sadece Almanca yapÄ±ldÄ±

 17. resources/views/admin/members/edit.blade.php
    - "Notlar" bÃ¶lÃ¼mÃ¼nÃ¼n altÄ±na DSGVO veri iÅŸleme onayÄ± checkbox'Ä± eklendi
    - Gizlilik politikasÄ± linki eklendi (/sayfa/datenschutz)
    - Mevcut onay durumu ve tarihi gÃ¶steriliyor
    - Sadece Almanca metin kullanÄ±lÄ±yor
    - TÃ¼m label'lar ve placeholder'lar sadece Almanca yapÄ±ldÄ±

 18. app/Http/Controllers/Admin/MemberController.php
    - update() metoduna privacy_consent validation'Ä± eklendi (nullable|accepted)
    - privacy_consent_date otomatik olarak set ediliyor (eÄŸer daha Ã¶nce onay verilmemiÅŸse)
    - Admin panelinden Ã¼ye dÃ¼zenlerken DSGVO uyumluluÄŸu saÄŸlanÄ±yor

 19. resources/views/member/certificate-pdf.blade.php
    - Ãœye panelinden eriÅŸilen baÅŸvuru formu PDF'i sadece Almanca yapÄ±ldÄ±
    - TÃ¼m Ã§ift dilli metinler (TR/DE) sadece Almanca yapÄ±ldÄ±
    - "ÃœYELÄ°K BELGESÄ° / MITGLIEDSBESCHEINIGUNG" â†’ "MITGLIEDSBESCHEINIGUNG"
    - TÃ¼rkÃ§e aÃ§Ä±klama metni kaldÄ±rÄ±ldÄ±, sadece Almanca metin kaldÄ±
    - TÃ¼m label'lar sadece Almanca yapÄ±ldÄ± (DoÄŸum Tarihi â†’ Geburtsdatum, Ãœye No â†’ Mitgliedsnummer, vb.)
    - "YazdÄ±r" butonu â†’ "Drucken" olarak deÄŸiÅŸtirildi

 20. resources/views/pdf/member-application-admin.blade.php
    - Ãœye iÅŸlemler bÃ¶lÃ¼mÃ¼ndeki baÅŸvuru formu PDF'i sadece Almanca yapÄ±ldÄ±
    - TÃ¼m Ã§ift dilli metinler (TR/DE) sadece Almanca yapÄ±ldÄ±
    - "Ãœyelik BaÅŸvuru Formu / Mitgliedschaftsantrag" â†’ "Mitgliedschaftsantrag"
    - TÃ¼m section title'lar sadece Almanca yapÄ±ldÄ± (KiÅŸisel Bilgiler â†’ PersÃ¶nliche Daten, vb.)
    - TÃ¼m label'lar sadece Almanca yapÄ±ldÄ± (Ad Soyad â†’ Name, DoÄŸum Tarihi â†’ Geburtsdatum, vb.)
    - "BelirtilmemiÅŸ" â†’ "Nicht angegeben" olarak deÄŸiÅŸtirildi
    - Ã–deme yÃ¶ntemleri sadece Almanca yapÄ±ldÄ± (Nakit â†’ Bar, Banka Havalesi â†’ BankÃ¼berweisung, vb.)
    - "ÃœYELÄ°ÄÄ°NÄ°Z YÃ–NETÄ°M KURULUMUZUN KARARI Ä°LE ONAYLANMIÅTIR" â†’ Sadece Almanca metin kaldÄ±
    - Veri iÅŸleme onayÄ± metni sadece Almanca yapÄ±ldÄ± (TR kÄ±smÄ± kaldÄ±rÄ±ldÄ±)
    - "Onay Ä°mzalarÄ± / BestÃ¤tigungsunterschriften" â†’ "BestÃ¤tigungsunterschriften"
    - Ä°mza alanlarÄ±ndaki TÃ¼rkÃ§e metinler kaldÄ±rÄ±ldÄ± (Sekreter â†’ SekretÃ¤r, Tarih ve Ä°mza â†’ Datum und Unterschrift)
    - Footer'daki "Adres" â†’ "Anschrift", "E-posta" â†’ "E-Mail" olarak deÄŸiÅŸtirildi
    - "YazdÄ±r" butonu â†’ "Drucken", "Ana Sayfa" â†’ "Startseite" olarak deÄŸiÅŸtirildi
    - "Ihre Mitgliedschaft wurde durch Beschluss unseres Vorstands genehmigt" metninin altÄ±na onay tarihi eklendi (approved_at veya membership_date kullanÄ±lÄ±yor)
    - Onay tarihi font boyutu bÃ¼yÃ¼tÃ¼ldÃ¼ (9px â†’ 10px)
    - Bankdaten (Banka Bilgileri) bÃ¶lÃ¼mÃ¼ sadece Lastschrift Ã¶deme yÃ¶ntemlerinde gÃ¶steriliyor (lastschrift_monthly, lastschrift_semi_annual, lastschrift_annual, direct_debit)
    - Lastschrift dÄ±ÅŸÄ±ndaki Ã¶deme yÃ¶ntemlerinde (Bar, BankÃ¼berweisung) Bankdaten bÃ¶lÃ¼mÃ¼ hiÃ§ gÃ¶sterilmiyor (boÅŸ kalÄ±yor)
    - Logo yanÄ±ndaki dernek adÄ± yerine settings'ten "Alt BaÅŸlÄ±k" (organization_subtitle) Ã§ekiliyor, yoksa organization_name gÃ¶steriliyor
    - Logo dernek adÄ±nÄ±n Ã¼stÃ¼nde gÃ¶steriliyor (solunda deÄŸil, dikey hizalama)

 21. app/Http/Controllers/MemberApplicationController.php
    - generateUniqueMemberNumber() metodunda kritik bug dÃ¼zeltildi
    - DB::table('members') yerine Member::withTrashed() kullanÄ±lÄ±yor
    - Silinen Ã¼yelerin numaralarÄ± artÄ±k doÄŸru ÅŸekilde gÃ¶rÃ¼lÃ¼yor ve tekrar kullanÄ±lmÄ±yor
    - Lock sorgusu da withTrashed() kullanacak ÅŸekilde gÃ¼ncellendi
    - JSON_EXTRACT yerine Laravel'in native JSON where clause'u kullanÄ±lÄ±yor (details->member_snapshot->member_no)
    - Bu sayede force delete edilen Ã¼yelerin numaralarÄ± doÄŸru ÅŸekilde tespit ediliyor

 23. Ãœye Paneli DSGVO MenÃ¼sÃ¼
    - Yeni route eklendi: /uye-panel/dsgvo (member.dsgvo)
    - MemberAuthController'a dsgvo() metodu eklendi
    - Yeni sayfa oluÅŸturuldu: resources/views/member/dsgvo.blade.php
    - Profil sayfasÄ±ndan "Verilerimi Ä°ndir", "RÄ±za Geri Ã‡ekme", "Verilerimi Sil" bÃ¶lÃ¼mleri kaldÄ±rÄ±ldÄ±
    - Bu bÃ¶lÃ¼mler artÄ±k DSGVO sayfasÄ±nda sÄ±rayla yer alÄ±yor
    - TÃ¼m Ã¼ye paneli layout dosyalarÄ±na (member-profile, member-dashboard, member-payments, member-contact) menÃ¼ye "DSGVO" linki eklendi
    - DSGVO linki "Ä°letiÅŸim & BaÄŸÄ±ÅŸ" butonundan sonra yer alÄ±yor
    - Hem desktop hem mobil menÃ¼lere eklendi
    - DSGVO sayfasÄ±ndaki hard-coded TÃ¼rkÃ§e metinler Ã§eviri dosyalarÄ±na taÅŸÄ±ndÄ± (dsgvo_title, dsgvo_subtitle)
    - TÃ¼rkÃ§e ve Almanca Ã§eviri dosyalarÄ±na eklendi
    - Mobil gÃ¶rÃ¼nÃ¼mde Ã§Ä±kÄ±ÅŸ butonu dil deÄŸiÅŸim butonlarÄ±nÄ±n hemen altÄ±na taÅŸÄ±ndÄ±
    - Mobil menÃ¼deki Ã§Ä±kÄ±ÅŸ butonu kaldÄ±rÄ±ldÄ± (artÄ±k header'da dil deÄŸiÅŸim butonlarÄ±nÄ±n altÄ±nda)
    - TÃ¼m Ã¼ye paneli layout dosyalarÄ±nda (member-profile, member-dashboard, member-payments, member-contact) gÃ¼ncellendi

 24. Ãœye Profil SayfasÄ± SadeleÅŸtirme
    - Profil sayfasÄ±ndan "Ãœye Bilgileri" kartÄ± kaldÄ±rÄ±ldÄ±
    - Sadece "Bilgileri GÃ¼ncelle" (Edit Profile Form) bÃ¶lÃ¼mÃ¼ kaldÄ±
    - Sayfa daha sade ve odaklanmÄ±ÅŸ hale getirildi

 25. Ãœye Paneli Ana Sayfa KaldÄ±rÄ±ldÄ±
    - Dashboard (Ana Sayfa) sayfasÄ± tamamen kaldÄ±rÄ±ldÄ±
    - /uye-panel/ route'u artÄ±k profil sayfasÄ±na yÃ¶nlendiriyor
    - TÃ¼m menÃ¼lerden "Ana Sayfa" linki kaldÄ±rÄ±ldÄ±
    - Ä°lk sayfa artÄ±k profil sayfasÄ± (http://127.0.0.1:8000/uye-panel/profil)
    - Controller'daki tÃ¼m dashboard yÃ¶nlendirmeleri profil sayfasÄ±na yÃ¶nlendirilecek ÅŸekilde gÃ¼ncellendi
    - TÃ¼m layout dosyalarÄ±ndan (member-profile, member-dashboard, member-payments, member-contact) "Ana Sayfa" menÃ¼ linkleri kaldÄ±rÄ±ldÄ±

 26. Ä°letiÅŸim-BaÄŸÄ±ÅŸ SayfasÄ± Mobil Optimizasyonu
    - Mobil gÃ¶rÃ¼nÃ¼m iÃ§in padding'ler optimize edildi (p-8 -> p-4 sm:p-6 lg:p-8)
    - Ä°kon ve baÅŸlÄ±k boyutlarÄ± mobilde kÃ¼Ã§Ã¼ltÃ¼ldÃ¼
    - Flex yapÄ±larÄ± mobilde dikey (flex-col) olacak ÅŸekilde gÃ¼ncellendi
    - Text boyutlarÄ± mobilde daha kÃ¼Ã§Ã¼k (text-2xl -> text-xl sm:text-2xl)
    - Spacing'ler mobilde azaltÄ±ldÄ± (space-y-6 -> space-y-4 sm:space-y-6)
    - IBAN ve BIC gibi uzun metinler iÃ§in break-all eklendi
    - Butonlar mobilde tam geniÅŸlik (w-full sm:w-auto)
    - Grid gap'ler mobilde kÃ¼Ã§Ã¼ltÃ¼ldÃ¼ (gap-8 -> gap-4 sm:gap-6 lg:gap-8)

 27. Mobil MenÃ¼ Butonu Sabit YapÄ±ldÄ±
    - Mobil gÃ¶rÃ¼nÃ¼mde "MenÃ¼" yazÄ±sÄ± ve hamburger ikonu artÄ±k sabit (sticky)
    - Header ve Navigation birlikte bir sticky container iÃ§ine alÄ±ndÄ±
    - Scroll yapÄ±ldÄ±ÄŸÄ±nda header ve navigation birlikte Ã¼stte sabit kalÄ±yor
    - Header ve navigation'Ä±n birlikte sticky olmasÄ± sayesinde kaybolma sorunu Ã§Ã¶zÃ¼ldÃ¼
    - TÃ¼m Ã¼ye paneli layout dosyalarÄ±nda (member-profile, member-dashboard, member-payments, member-contact) gÃ¼ncellendi

 28. Etkinlikler Liste SayfasÄ± Modal Eklendi
    - Etkinlikler-liste sayfasÄ±nda etkinlik resmine tÄ±klayÄ±nca modal aÃ§Ä±lÄ±yor
    - Ana sayfadaki ile aynÄ± modal yapÄ±sÄ± ve bÃ¼yÃ¼me oranÄ± kullanÄ±lÄ±yor
    - max-h-[90vh] container ve max-h-[85vh] image boyutlarÄ±
    - ESC tuÅŸu ve dÄ±ÅŸarÄ± tÄ±klama ile kapatma Ã¶zelliÄŸi eklendi
    - resources/views/events/index.blade.php dosyasÄ±na modal ve JavaScript fonksiyonlarÄ± eklendi

 22. app/Http/Controllers/Admin/MemberController.php
    - generateUniqueMemberNumber() metodunda kritik bug dÃ¼zeltildi
    - Member::where() yerine Member::withTrashed() kullanÄ±lÄ±yor
    - Silinen Ã¼yelerin numaralarÄ± artÄ±k doÄŸru ÅŸekilde gÃ¶rÃ¼lÃ¼yor ve tekrar kullanÄ±lmÄ±yor
    - JSON_EXTRACT yerine Laravel'in native JSON where clause'u kullanÄ±lÄ±yor (details->member_snapshot->member_no)
    - update() metodundaki force delete kontrolÃ¼ de aynÄ± ÅŸekilde dÃ¼zeltildi

NOTLAR:
=======
- published_at alanÄ± zaten veritabanÄ±nda mevcut (migration: 2026_02_01_162922_add_published_at_to_news_table.php)
- Eski haberler iÃ§in published_at boÅŸsa created_at kullanÄ±lÄ±yor (geriye dÃ¶nÃ¼k uyumluluk)
- Yeni haberler iÃ§in published_at boÅŸ bÄ±rakÄ±lÄ±rsa otomatik olarak ÅŸu anki tarih atanÄ±yor

TEST EDÄ°LMESÄ° GEREKENLER:
==========================
1. Yeni haber eklerken published_at alanÄ±nÄ±n Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± kontrol edin
2. GeÃ§miÅŸe dair bir haber ekleyip sÄ±ralamanÄ±n doÄŸru olduÄŸunu kontrol edin
3. Admin panelinde ve public sayfada haberlerin tarih bazlÄ± sÄ±ralandÄ±ÄŸÄ±nÄ± kontrol edin
4. Eski haberlerin (published_at olmayan) hala gÃ¶rÃ¼ndÃ¼ÄŸÃ¼nÃ¼ kontrol edin
